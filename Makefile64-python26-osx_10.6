#Makefile to create BIGsplines extension module for NumericPython
#
# Jan Kybic, August 2000
# $Id: Makefile,v 1.1 2004/06/11 14:28:25 jko Exp $
#
# Edited by Simo Tuomisto, 2010

PREFIX=/usr/
OSXDEV=/Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/Python.framework/Versions/2.6/
INCLUDES= -I$(OSXDEV)/include/python2.6/ -I$(OSXDEV)/Extras/lib/python/numpy/core/include/numpy/
LDFLAGS=-lm -shared -undefined dynamic_lookup
LDSHARED=gcc -m32
CFLAGS=-Wall -fPIC -O2 $(INCLUDES) -DBIGSPLINES -DDARWIN
CC=gcc -m32

OBJECTS= BIGsplines.o fiir.o splninterp.o bsplneval.o ffir.o bigsdcgr.o

# generic compile rule
.c.o:	$(HEADERS)	
	$(CC) -c $(CFLAGS) $*.c -o $@

all: BIGsplines.so

BIGsplines.so: $(OBJECTS)
	$(LDSHARED) $(OBJECTS) $(LDFLAGS) -o BIGsplines.so

clean:
	rm $(OBJECTS) BIGsplines.so
